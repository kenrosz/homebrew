<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenJPEG: ht_dec.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenJPEG<span id="projectnumber">&#160;2.5.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8af83c0dc83a45a35ca6968cdc29a7af.html">tmp</a></li><li class="navelem"><a class="el" href="dir_f8fe62051e9d7e0241f846fd8f85bf2e.html">openjpeg-20240301-3784-rxeuff</a></li><li class="navelem"><a class="el" href="dir_eaf016f6492abfb4a89caf49c04c0c9b.html">openjpeg-2.5.2</a></li><li class="navelem"><a class="el" href="dir_6ad12d35dda0b332b42d9bfb89b6589d.html">src</a></li><li class="navelem"><a class="el" href="dir_dae0c8d1362c31dbb490ba31e0fd5719.html">lib</a></li><li class="navelem"><a class="el" href="dir_d9d1627a385749e4787a9bb1ea1e1951.html">openjp2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ht_dec.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>implements HTJ2K block decoder  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="opj__includes_8h_source.html">opj_includes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="t1__ht__luts_8h_source.html">t1_ht_luts.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdec__mel.html">dec_mel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MEL state structure for reading and decoding the MEL bitstream.  <a href="structdec__mel.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrev__struct.html">rev_struct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.  <a href="structrev__struct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfrwd__struct.html">frwd_struct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">State structure for reading and unstuffing of forward-growing bitstreams; these are: MagSgn and SPP bitstreams.  <a href="structfrwd__struct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab29a9d383a6af16f7d0d0e7e48dc984a" id="r_ab29a9d383a6af16f7d0d0e7e48dc984a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structdec__mel.html">dec_mel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a></td></tr>
<tr class="memdesc:ab29a9d383a6af16f7d0d0e7e48dc984a"><td class="mdescLeft">&#160;</td><td class="mdescRight">MEL state structure for reading and decoding the MEL bitstream.  <br /></td></tr>
<tr class="separator:ab29a9d383a6af16f7d0d0e7e48dc984a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6424de8bbf1786bb96e7ad13a54a213" id="r_ad6424de8bbf1786bb96e7ad13a54a213"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structrev__struct.html">rev_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a></td></tr>
<tr class="memdesc:ad6424de8bbf1786bb96e7ad13a54a213"><td class="mdescLeft">&#160;</td><td class="mdescRight">A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.  <br /></td></tr>
<tr class="separator:ad6424de8bbf1786bb96e7ad13a54a213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8360f399ee860c9cdcb8eb2586da6313" id="r_a8360f399ee860c9cdcb8eb2586da6313"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structfrwd__struct.html">frwd_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a></td></tr>
<tr class="memdesc:a8360f399ee860c9cdcb8eb2586da6313"><td class="mdescLeft">&#160;</td><td class="mdescRight">State structure for reading and unstuffing of forward-growing bitstreams; these are: MagSgn and SPP bitstreams.  <br /></td></tr>
<tr class="separator:a8360f399ee860c9cdcb8eb2586da6313"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5dcc93c10ed6b04d8f789c7c84fb4008" id="r_a5dcc93c10ed6b04d8f789c7c84fb4008"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5dcc93c10ed6b04d8f789c7c84fb4008">population_count</a> (<a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> val)</td></tr>
<tr class="memdesc:a5dcc93c10ed6b04d8f789c7c84fb4008"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates population count (i.e., the number of set bits)  <br /></td></tr>
<tr class="separator:a5dcc93c10ed6b04d8f789c7c84fb4008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac411a50f8827a8678a03e8956e02f2b2" id="r_ac411a50f8827a8678a03e8956e02f2b2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac411a50f8827a8678a03e8956e02f2b2">count_leading_zeros</a> (<a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> val)</td></tr>
<tr class="memdesc:ac411a50f8827a8678a03e8956e02f2b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts the number of leading zeros.  <br /></td></tr>
<tr class="separator:ac411a50f8827a8678a03e8956e02f2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbca9dd22fabb8fb864c9413c04f6f06" id="r_acbca9dd22fabb8fb864c9413c04f6f06"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbca9dd22fabb8fb864c9413c04f6f06">read_le_uint32</a> (const void *dataIn)</td></tr>
<tr class="memdesc:acbca9dd22fabb8fb864c9413c04f6f06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a little-endian serialized UINT32.  <br /></td></tr>
<tr class="separator:acbca9dd22fabb8fb864c9413c04f6f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528933a4ff904894de3292e6e45de267" id="r_a528933a4ff904894de3292e6e45de267"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a528933a4ff904894de3292e6e45de267">mel_read</a> (<a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a> *melp)</td></tr>
<tr class="memdesc:a528933a4ff904894de3292e6e45de267"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and unstuffs the MEL bitstream.  <br /></td></tr>
<tr class="separator:a528933a4ff904894de3292e6e45de267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8589a38aee69f22e0bfdc7944e319447" id="r_a8589a38aee69f22e0bfdc7944e319447"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8589a38aee69f22e0bfdc7944e319447">mel_decode</a> (<a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a> *melp)</td></tr>
<tr class="memdesc:a8589a38aee69f22e0bfdc7944e319447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes unstuffed MEL segment bits stored in tmp to runs.  <br /></td></tr>
<tr class="separator:a8589a38aee69f22e0bfdc7944e319447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0215ed8aa6c56768efbabeb989762b" id="r_acf0215ed8aa6c56768efbabeb989762b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf0215ed8aa6c56768efbabeb989762b">mel_init</a> (<a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a> *melp, <a class="el" href="openjpeg_8h.html#aa4f0c2273c8e988c055b78ae4412ac8e">OPJ_UINT8</a> *bbuf, int lcup, int scup)</td></tr>
<tr class="memdesc:acf0215ed8aa6c56768efbabeb989762b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates a dec_mel_t structure for MEL decoding and reads some bytes in order to get the read address to a multiple of 4.  <br /></td></tr>
<tr class="separator:acf0215ed8aa6c56768efbabeb989762b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7287bba8c0c05a2ceae8dbb4de5a9330" id="r_a7287bba8c0c05a2ceae8dbb4de5a9330"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7287bba8c0c05a2ceae8dbb4de5a9330">mel_get_run</a> (<a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a> *melp)</td></tr>
<tr class="memdesc:a7287bba8c0c05a2ceae8dbb4de5a9330"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves one run from dec_mel_t; if there are no runs stored MEL segment is decoded.  <br /></td></tr>
<tr class="separator:a7287bba8c0c05a2ceae8dbb4de5a9330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5407f4037277334cd55ae4ecb0b38ed" id="r_ad5407f4037277334cd55ae4ecb0b38ed"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5407f4037277334cd55ae4ecb0b38ed">rev_read</a> (<a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *vlcp)</td></tr>
<tr class="memdesc:ad5407f4037277334cd55ae4ecb0b38ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and unstuff data from a backwardly-growing segment.  <br /></td></tr>
<tr class="separator:ad5407f4037277334cd55ae4ecb0b38ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa8ecf4d3e369b522242f01afe5063c8" id="r_afa8ecf4d3e369b522242f01afe5063c8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa8ecf4d3e369b522242f01afe5063c8">rev_init</a> (<a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *vlcp, <a class="el" href="openjpeg_8h.html#aa4f0c2273c8e988c055b78ae4412ac8e">OPJ_UINT8</a> *data, int lcup, int scup)</td></tr>
<tr class="memdesc:afa8ecf4d3e369b522242f01afe5063c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates the rev_struct_t structure and reads a few bytes to move the read address to multiple of 4.  <br /></td></tr>
<tr class="separator:afa8ecf4d3e369b522242f01afe5063c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f50129f86589c1c28477ed69d16b11e" id="r_a4f50129f86589c1c28477ed69d16b11e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f50129f86589c1c28477ed69d16b11e">rev_fetch</a> (<a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *vlcp)</td></tr>
<tr class="memdesc:a4f50129f86589c1c28477ed69d16b11e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves 32 bits from the head of a <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure.  <br /></td></tr>
<tr class="separator:a4f50129f86589c1c28477ed69d16b11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eaa584e684afdc02fc5dacd9f989552" id="r_a3eaa584e684afdc02fc5dacd9f989552"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3eaa584e684afdc02fc5dacd9f989552">rev_advance</a> (<a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *vlcp, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> num_bits)</td></tr>
<tr class="memdesc:a3eaa584e684afdc02fc5dacd9f989552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consumes num_bits from a <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure.  <br /></td></tr>
<tr class="separator:a3eaa584e684afdc02fc5dacd9f989552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5b53a012c2bbb0e333636e847774be" id="r_ada5b53a012c2bbb0e333636e847774be"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada5b53a012c2bbb0e333636e847774be">rev_read_mrp</a> (<a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *mrp)</td></tr>
<tr class="memdesc:ada5b53a012c2bbb0e333636e847774be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and unstuffs from <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a>.  <br /></td></tr>
<tr class="separator:ada5b53a012c2bbb0e333636e847774be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaae9b480e28b443dc48fab9114cd9a11" id="r_aaae9b480e28b443dc48fab9114cd9a11"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaae9b480e28b443dc48fab9114cd9a11">rev_init_mrp</a> (<a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *mrp, <a class="el" href="openjpeg_8h.html#aa4f0c2273c8e988c055b78ae4412ac8e">OPJ_UINT8</a> *data, int lcup, int len2)</td></tr>
<tr class="memdesc:aaae9b480e28b443dc48fab9114cd9a11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialized <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure for MRP segment, and reads a number of bytes such that the next 32 bits read are from an address that is a multiple of 4.  <br /></td></tr>
<tr class="separator:aaae9b480e28b443dc48fab9114cd9a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847984af36a6cc3e6638118d89880baa" id="r_a847984af36a6cc3e6638118d89880baa"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a847984af36a6cc3e6638118d89880baa">rev_fetch_mrp</a> (<a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *mrp)</td></tr>
<tr class="memdesc:a847984af36a6cc3e6638118d89880baa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves 32 bits from the head of a <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure.  <br /></td></tr>
<tr class="separator:a847984af36a6cc3e6638118d89880baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e4d97335437325d6bbb6206bc5aae6" id="r_ad5e4d97335437325d6bbb6206bc5aae6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5e4d97335437325d6bbb6206bc5aae6">rev_advance_mrp</a> (<a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *mrp, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> num_bits)</td></tr>
<tr class="memdesc:ad5e4d97335437325d6bbb6206bc5aae6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consumes num_bits from a <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure.  <br /></td></tr>
<tr class="separator:ad5e4d97335437325d6bbb6206bc5aae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c0bbb6a385df0f5a46d0afdd5dfa3e" id="r_a03c0bbb6a385df0f5a46d0afdd5dfa3e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03c0bbb6a385df0f5a46d0afdd5dfa3e">decode_init_uvlc</a> (<a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> vlc, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> mode, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> *u)</td></tr>
<tr class="memdesc:a03c0bbb6a385df0f5a46d0afdd5dfa3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode initial UVLC to get the u value (or u_q)  <br /></td></tr>
<tr class="separator:a03c0bbb6a385df0f5a46d0afdd5dfa3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac65390cb63d723311d218c66b0c99dd6" id="r_ac65390cb63d723311d218c66b0c99dd6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac65390cb63d723311d218c66b0c99dd6">decode_noninit_uvlc</a> (<a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> vlc, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> mode, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> *u)</td></tr>
<tr class="memdesc:ac65390cb63d723311d218c66b0c99dd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode non-initial UVLC to get the u value (or u_q)  <br /></td></tr>
<tr class="separator:ac65390cb63d723311d218c66b0c99dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480487fd85a38efe49117f47310b3957" id="r_a480487fd85a38efe49117f47310b3957"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a480487fd85a38efe49117f47310b3957">frwd_read</a> (<a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a> *msp)</td></tr>
<tr class="memdesc:a480487fd85a38efe49117f47310b3957"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and unstuffs 32 bits from forward-growing bitstream.  <br /></td></tr>
<tr class="separator:a480487fd85a38efe49117f47310b3957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada72209ef411b7fc7946c3c02b29d388" id="r_ada72209ef411b7fc7946c3c02b29d388"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada72209ef411b7fc7946c3c02b29d388">frwd_init</a> (<a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a> *msp, const <a class="el" href="openjpeg_8h.html#aa4f0c2273c8e988c055b78ae4412ac8e">OPJ_UINT8</a> *data, int size, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> X)</td></tr>
<tr class="memdesc:ada72209ef411b7fc7946c3c02b29d388"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize frwd_struct_t struct and reads some bytes.  <br /></td></tr>
<tr class="separator:ada72209ef411b7fc7946c3c02b29d388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d26aa74012757ab1b0a057389e34e86" id="r_a3d26aa74012757ab1b0a057389e34e86"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d26aa74012757ab1b0a057389e34e86">frwd_advance</a> (<a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a> *msp, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> num_bits)</td></tr>
<tr class="memdesc:a3d26aa74012757ab1b0a057389e34e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume num_bits bits from the bitstream of frwd_struct_t.  <br /></td></tr>
<tr class="separator:a3d26aa74012757ab1b0a057389e34e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d84728099bb3a25e431570ccb7e2fb6" id="r_a8d84728099bb3a25e431570ccb7e2fb6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d84728099bb3a25e431570ccb7e2fb6">frwd_fetch</a> (<a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a> *msp)</td></tr>
<tr class="memdesc:a8d84728099bb3a25e431570ccb7e2fb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches 32 bits from the frwd_struct_t bitstream.  <br /></td></tr>
<tr class="separator:a8d84728099bb3a25e431570ccb7e2fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676ae65a9d3daed3299a36fa3842043e" id="r_a676ae65a9d3daed3299a36fa3842043e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a676ae65a9d3daed3299a36fa3842043e">opj_t1_allocate_buffers</a> (<a class="el" href="t1_8h.html#a392fb7802fd3e0e133efa02784409d1f">opj_t1_t</a> *t1, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> w, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> h)</td></tr>
<tr class="memdesc:a676ae65a9d3daed3299a36fa3842043e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates T1 buffers.  <br /></td></tr>
<tr class="separator:a676ae65a9d3daed3299a36fa3842043e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1566cecb98cad92924d1fac5fdc900" id="r_a8e1566cecb98cad92924d1fac5fdc900"><td class="memItemLeft" align="right" valign="top"><a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk</a> (<a class="el" href="t1_8h.html#a392fb7802fd3e0e133efa02784409d1f">opj_t1_t</a> *t1, <a class="el" href="tcd_8h.html#a0f9a44a76f8ad17a94f3f689adfc6c0a">opj_tcd_cblk_dec_t</a> *cblk, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> orient, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> roishift, <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> cblksty, <a class="el" href="event_8h.html#a9015b7726990d51ca282c8134b8eccdd">opj_event_mgr_t</a> *p_manager, <a class="el" href="thread_8h.html#a29120af1ce48d5ecd651795f2e427755">opj_mutex_t</a> *p_manager_mutex, <a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a> check_pterm)</td></tr>
<tr class="memdesc:a8e1566cecb98cad92924d1fac5fdc900"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode 1 HT code-block.  <br /></td></tr>
<tr class="separator:a8e1566cecb98cad92924d1fac5fdc900"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae5a522982a535584dc1513a8d357b648" id="r_ae5a522982a535584dc1513a8d357b648"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae5a522982a535584dc1513a8d357b648">only_cleanup_pass_is_decoded</a> = <a class="el" href="openjpeg_8h.html#ac672bfd7db39c609e828acb07a321964">OPJ_FALSE</a></td></tr>
<tr class="memdesc:ae5a522982a535584dc1513a8d357b648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the error message for disabling the decoding of SPP and MRP passes.  <br /></td></tr>
<tr class="separator:ae5a522982a535584dc1513a8d357b648"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>implements HTJ2K block decoder </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ab29a9d383a6af16f7d0d0e7e48dc984a" name="ab29a9d383a6af16f7d0d0e7e48dc984a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab29a9d383a6af16f7d0d0e7e48dc984a">&#9670;&#160;</a></span>dec_mel_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structdec__mel.html">dec_mel</a> <a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MEL state structure for reading and decoding the MEL bitstream. </p>
<p>A number of events is decoded from the MEL bitstream ahead of time and stored in run/num_runs. Each run represents the number of zero events before a one event. </p>

</div>
</div>
<a id="a8360f399ee860c9cdcb8eb2586da6313" name="a8360f399ee860c9cdcb8eb2586da6313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8360f399ee860c9cdcb8eb2586da6313">&#9670;&#160;</a></span>frwd_struct_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structfrwd__struct.html">frwd_struct</a> <a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State structure for reading and unstuffing of forward-growing bitstreams; these are: MagSgn and SPP bitstreams. </p>

</div>
</div>
<a id="ad6424de8bbf1786bb96e7ad13a54a213" name="ad6424de8bbf1786bb96e7ad13a54a213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6424de8bbf1786bb96e7ad13a54a213">&#9670;&#160;</a></span>rev_struct_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structrev__struct.html">rev_struct</a> <a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac411a50f8827a8678a03e8956e02f2b2" name="ac411a50f8827a8678a03e8956e02f2b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac411a50f8827a8678a03e8956e02f2b2">&#9670;&#160;</a></span>count_leading_zeros()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> count_leading_zeros </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>val</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counts the number of leading zeros. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>is the value for which leading zero count is sought </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#a5dcc93c10ed6b04d8f789c7c84fb4008">population_count()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="a03c0bbb6a385df0f5a46d0afdd5dfa3e" name="a03c0bbb6a385df0f5a46d0afdd5dfa3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c0bbb6a385df0f5a46d0afdd5dfa3e">&#9670;&#160;</a></span>decode_init_uvlc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> decode_init_uvlc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>vlc</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>mode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> *</td>          <td class="paramname"><span class="paramname"><em>u</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode initial UVLC to get the u value (or u_q) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vlc</td><td>is the head of the VLC bitstream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>is 0, 1, 2, 3, or 4. Values in 0 to 3 are composed of u_off of 1st quad and 2nd quad of a quad pair. The value 4 occurs when both bits are 1, and the event decoded from MEL bitstream is also 1. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">u</td><td>is the u value (or u_q) + 1. Note: we produce u + 1; this value is a partial calculation of u + kappa. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="ac65390cb63d723311d218c66b0c99dd6" name="ac65390cb63d723311d218c66b0c99dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac65390cb63d723311d218c66b0c99dd6">&#9670;&#160;</a></span>decode_noninit_uvlc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> decode_noninit_uvlc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>vlc</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>mode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> *</td>          <td class="paramname"><span class="paramname"><em>u</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode non-initial UVLC to get the u value (or u_q) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vlc</td><td>is the head of the VLC bitstream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>is 0, 1, 2, or 3. The 1st bit is u_off of 1st quad and 2nd for 2nd quad of a quad pair </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">u</td><td>is the u value (or u_q) + 1. Note: we produce u + 1; this value is a partial calculation of u + kappa. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="a3d26aa74012757ab1b0a057389e34e86" name="a3d26aa74012757ab1b0a057389e34e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d26aa74012757ab1b0a057389e34e86">&#9670;&#160;</a></span>frwd_advance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void frwd_advance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>msp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>num_bits</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Consume num_bits bits from the bitstream of frwd_struct_t. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msp</td><td>is a pointer to frwd_struct_t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_bits</td><td>is the number of bit to consume </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structfrwd__struct.html#a56cb2caf1214acf02f4d88a9fa404c91">frwd_struct::bits</a>, and <a class="el" href="structfrwd__struct.html#a870bc6ddc63ab9f352ab4cd19e16abd8">frwd_struct::tmp</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="a8d84728099bb3a25e431570ccb7e2fb6" name="a8d84728099bb3a25e431570ccb7e2fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d84728099bb3a25e431570ccb7e2fb6">&#9670;&#160;</a></span>frwd_fetch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> frwd_fetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>msp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches 32 bits from the frwd_struct_t bitstream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msp</td><td>is a pointer to frwd_struct_t </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structfrwd__struct.html#a56cb2caf1214acf02f4d88a9fa404c91">frwd_struct::bits</a>, <a class="el" href="#a480487fd85a38efe49117f47310b3957">frwd_read()</a>, and <a class="el" href="structfrwd__struct.html#a870bc6ddc63ab9f352ab4cd19e16abd8">frwd_struct::tmp</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="ada72209ef411b7fc7946c3c02b29d388" name="ada72209ef411b7fc7946c3c02b29d388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada72209ef411b7fc7946c3c02b29d388">&#9670;&#160;</a></span>frwd_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void frwd_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>msp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="openjpeg_8h.html#aa4f0c2273c8e988c055b78ae4412ac8e">OPJ_UINT8</a> *</td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>X</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize frwd_struct_t struct and reads some bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msp</td><td>is a pointer to frwd_struct_t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is a pointer to the start of data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>is the number of byte in the bitstream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">X</td><td>is the value fed in when the bitstream is exhausted. See frwd_read. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structfrwd__struct.html#a56cb2caf1214acf02f4d88a9fa404c91">frwd_struct::bits</a>, <a class="el" href="structfrwd__struct.html#abea35d63aea99264e7a55dd0a7cdd76c">frwd_struct::data</a>, <a class="el" href="#a480487fd85a38efe49117f47310b3957">frwd_read()</a>, <a class="el" href="openjpeg_8h.html#ac672bfd7db39c609e828acb07a321964">OPJ_FALSE</a>, <a class="el" href="structfrwd__struct.html#afff5d7aca81c6812c43e312820679cf5">frwd_struct::size</a>, <a class="el" href="structfrwd__struct.html#a870bc6ddc63ab9f352ab4cd19e16abd8">frwd_struct::tmp</a>, <a class="el" href="structfrwd__struct.html#a18ebccc4ba9d3786ab98e3e0299bcb72">frwd_struct::unstuff</a>, and <a class="el" href="structfrwd__struct.html#a8192c054a57d917f42a6f6172eddf771">frwd_struct::X</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="a480487fd85a38efe49117f47310b3957" name="a480487fd85a38efe49117f47310b3957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480487fd85a38efe49117f47310b3957">&#9670;&#160;</a></span>frwd_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void frwd_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a8360f399ee860c9cdcb8eb2586da6313">frwd_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>msp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read and unstuffs 32 bits from forward-growing bitstream. </p>
<p>A subroutine to read from both the MagSgn or SPP bitstreams; in particular, when MagSgn bitstream is consumed, 0xFF's are fed, while when SPP is exhausted 0's are fed in. X controls this value.</p>
<p>Unstuffing prevent sequences that are more than 0xFF7F from appearing in the conpressed sequence. So whenever a value of 0xFF is coded, the MSB of the next byte is set 0 and must be ignored during decoding.</p>
<p>Reading can go beyond the end of buffer by up to 3 bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msp</td><td>is a pointer to frwd_struct_t structure </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structfrwd__struct.html#a56cb2caf1214acf02f4d88a9fa404c91">frwd_struct::bits</a>, <a class="el" href="structfrwd__struct.html#abea35d63aea99264e7a55dd0a7cdd76c">frwd_struct::data</a>, <a class="el" href="#acbca9dd22fabb8fb864c9413c04f6f06">read_le_uint32()</a>, <a class="el" href="structfrwd__struct.html#afff5d7aca81c6812c43e312820679cf5">frwd_struct::size</a>, <a class="el" href="structfrwd__struct.html#a870bc6ddc63ab9f352ab4cd19e16abd8">frwd_struct::tmp</a>, <a class="el" href="structfrwd__struct.html#a18ebccc4ba9d3786ab98e3e0299bcb72">frwd_struct::unstuff</a>, and <a class="el" href="structfrwd__struct.html#a8192c054a57d917f42a6f6172eddf771">frwd_struct::X</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8d84728099bb3a25e431570ccb7e2fb6">frwd_fetch()</a>, and <a class="el" href="#ada72209ef411b7fc7946c3c02b29d388">frwd_init()</a>.</p>

</div>
</div>
<a id="a8589a38aee69f22e0bfdc7944e319447" name="a8589a38aee69f22e0bfdc7944e319447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8589a38aee69f22e0bfdc7944e319447">&#9670;&#160;</a></span>mel_decode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void mel_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a> *</td>          <td class="paramname"><span class="paramname"><em>melp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decodes unstuffed MEL segment bits stored in tmp to runs. </p>
<p>Runs are stored in "runs" and the number of runs in "num_runs". Each run represents a number of zero events that may or may not terminate in a 1 event. Each run is stored in 7 bits. The LSB is 1 if the run terminates in a 1 event, 0 otherwise. The next 6 bits, for the case terminating with 1, contain the number of consecutive 0 zero events * 2; for the case terminating with 0, they store (number of consecutive 0 zero events - 1) * 2. A total of 6 bits (made up of 1 + 5) should have been enough.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">melp</td><td>is a pointer to dec_mel_t structure </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structdec__mel.html#abb4801ccf69a415d71ead1b07dbf54c0">dec_mel::bits</a>, <a class="el" href="structdec__mel.html#a63bac0ad45129bc6e369c997d4a9eaf8">dec_mel::k</a>, <a class="el" href="#a528933a4ff904894de3292e6e45de267">mel_read()</a>, <a class="el" href="structdec__mel.html#a3abf7acba0972b6ab4182f0b0e35bcbe">dec_mel::num_runs</a>, <a class="el" href="structdec__mel.html#a2a06fd51060775b1e26a0483aef0ecf4">dec_mel::runs</a>, and <a class="el" href="structdec__mel.html#a83fc25981985984995866d3188046721">dec_mel::tmp</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a7287bba8c0c05a2ceae8dbb4de5a9330">mel_get_run()</a>.</p>

</div>
</div>
<a id="a7287bba8c0c05a2ceae8dbb4de5a9330" name="a7287bba8c0c05a2ceae8dbb4de5a9330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7287bba8c0c05a2ceae8dbb4de5a9330">&#9670;&#160;</a></span>mel_get_run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> int mel_get_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a> *</td>          <td class="paramname"><span class="paramname"><em>melp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves one run from dec_mel_t; if there are no runs stored MEL segment is decoded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">melp</td><td>is a pointer to dec_mel_t structure </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#a8589a38aee69f22e0bfdc7944e319447">mel_decode()</a>, <a class="el" href="structdec__mel.html#a3abf7acba0972b6ab4182f0b0e35bcbe">dec_mel::num_runs</a>, and <a class="el" href="structdec__mel.html#a2a06fd51060775b1e26a0483aef0ecf4">dec_mel::runs</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="acf0215ed8aa6c56768efbabeb989762b" name="acf0215ed8aa6c56768efbabeb989762b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf0215ed8aa6c56768efbabeb989762b">&#9670;&#160;</a></span>mel_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a> mel_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a> *</td>          <td class="paramname"><span class="paramname"><em>melp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#aa4f0c2273c8e988c055b78ae4412ac8e">OPJ_UINT8</a> *</td>          <td class="paramname"><span class="paramname"><em>bbuf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>lcup</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>scup</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiates a dec_mel_t structure for MEL decoding and reads some bytes in order to get the read address to a multiple of 4. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">melp</td><td>is a pointer to dec_mel_t structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bbuf</td><td>is a pointer to byte buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lcup</td><td>is the length of MagSgn+MEL+VLC segments </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scup</td><td>is the length of MEL+VLC segments </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structdec__mel.html#abb4801ccf69a415d71ead1b07dbf54c0">dec_mel::bits</a>, <a class="el" href="structdec__mel.html#a9b99d3d3ab495fab81f1c84d5d73371f">dec_mel::data</a>, <a class="el" href="structdec__mel.html#a63bac0ad45129bc6e369c997d4a9eaf8">dec_mel::k</a>, <a class="el" href="structdec__mel.html#a3abf7acba0972b6ab4182f0b0e35bcbe">dec_mel::num_runs</a>, <a class="el" href="openjpeg_8h.html#ac672bfd7db39c609e828acb07a321964">OPJ_FALSE</a>, <a class="el" href="openjpeg_8h.html#a04830036d767cba56cbf5ae5bdc481d3">OPJ_TRUE</a>, <a class="el" href="structdec__mel.html#a2a06fd51060775b1e26a0483aef0ecf4">dec_mel::runs</a>, <a class="el" href="structdec__mel.html#aae62438b8b30d543378681e11d772cf1">dec_mel::size</a>, <a class="el" href="structdec__mel.html#a83fc25981985984995866d3188046721">dec_mel::tmp</a>, and <a class="el" href="structdec__mel.html#a497b51cabb561484b7e387f2b5b3849b">dec_mel::unstuff</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="a528933a4ff904894de3292e6e45de267" name="a528933a4ff904894de3292e6e45de267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528933a4ff904894de3292e6e45de267">&#9670;&#160;</a></span>mel_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void mel_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ab29a9d383a6af16f7d0d0e7e48dc984a">dec_mel_t</a> *</td>          <td class="paramname"><span class="paramname"><em>melp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads and unstuffs the MEL bitstream. </p>
<p>This design needs more bytes in the codeblock buffer than the length of the cleanup pass by up to 2 bytes.</p>
<p>Unstuffing removes the MSB of the byte following a byte whose value is 0xFF; this prevents sequences larger than 0xFF7F in value from appearing the bitstream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">melp</td><td>is a pointer to dec_mel_t structure </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structdec__mel.html#abb4801ccf69a415d71ead1b07dbf54c0">dec_mel::bits</a>, <a class="el" href="structdec__mel.html#a9b99d3d3ab495fab81f1c84d5d73371f">dec_mel::data</a>, <a class="el" href="#acbca9dd22fabb8fb864c9413c04f6f06">read_le_uint32()</a>, <a class="el" href="structdec__mel.html#aae62438b8b30d543378681e11d772cf1">dec_mel::size</a>, <a class="el" href="structdec__mel.html#a83fc25981985984995866d3188046721">dec_mel::tmp</a>, and <a class="el" href="structdec__mel.html#a497b51cabb561484b7e387f2b5b3849b">dec_mel::unstuff</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8589a38aee69f22e0bfdc7944e319447">mel_decode()</a>.</p>

</div>
</div>
<a id="a676ae65a9d3daed3299a36fa3842043e" name="a676ae65a9d3daed3299a36fa3842043e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a676ae65a9d3daed3299a36fa3842043e">&#9670;&#160;</a></span>opj_t1_allocate_buffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a> opj_t1_allocate_buffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="t1_8h.html#a392fb7802fd3e0e133efa02784409d1f">opj_t1_t</a> *</td>          <td class="paramname"><span class="paramname"><em>t1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>w</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates T1 buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">t1</td><td>is codeblock cofficients storage </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">w</td><td>is codeblock width </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">h</td><td>is codeblock height </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structopj__t1.html#a73394701209d19d06afd56f089bbcd7f">opj_t1::data</a>, <a class="el" href="structopj__t1.html#a693ddeb0ffaea902591f5ee4aca345c1">opj_t1::datasize</a>, <a class="el" href="structopj__t1.html#ad9c62c070cac19e999623b6dfc247789">opj_t1::flags</a>, <a class="el" href="structopj__t1.html#a5502662e5924da099edc49a28b501f41">opj_t1::flagssize</a>, <a class="el" href="structopj__t1.html#a4e88b0ed321f39a5bd2507b3d403914d">opj_t1::h</a>, <a class="el" href="opj__malloc_8c.html#aefeccfbb22ba64c00f94f7f66fc97126">opj_aligned_free()</a>, <a class="el" href="opj__malloc_8c.html#a2c768fc62b870942cec1de793b06cb56">opj_aligned_malloc()</a>, <a class="el" href="openjpeg_8h.html#ac672bfd7db39c609e828acb07a321964">OPJ_FALSE</a>, <a class="el" href="openjpeg_8h.html#a04830036d767cba56cbf5ae5bdc481d3">OPJ_TRUE</a>, and <a class="el" href="structopj__t1.html#a0307370eb4a1cb47d8e4011cb88c37a7">opj_t1::w</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="a8e1566cecb98cad92924d1fac5fdc900" name="a8e1566cecb98cad92924d1fac5fdc900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1566cecb98cad92924d1fac5fdc900">&#9670;&#160;</a></span>opj_t1_ht_decode_cblk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a> opj_t1_ht_decode_cblk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="t1_8h.html#a392fb7802fd3e0e133efa02784409d1f">opj_t1_t</a> *</td>          <td class="paramname"><span class="paramname"><em>t1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tcd_8h.html#a0f9a44a76f8ad17a94f3f689adfc6c0a">opj_tcd_cblk_dec_t</a> *</td>          <td class="paramname"><span class="paramname"><em>cblk</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>orient</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>roishift</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>cblksty</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="event_8h.html#a9015b7726990d51ca282c8134b8eccdd">opj_event_mgr_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_manager</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="thread_8h.html#a29120af1ce48d5ecd651795f2e427755">opj_mutex_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_manager_mutex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a></td>          <td class="paramname"><span class="paramname"><em>check_pterm</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode 1 HT code-block. </p>
<p>Decodes one codeblock, processing the cleanup, siginificance propagation, and magnitude refinement pass.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">t1</td><td>T1 handle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cblk</td><td>Code-block coding parameters </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">orient</td><td></td></tr>
    <tr><td class="paramdir"></td><td class="paramname">roishift</td><td>Region of interest shifting value </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cblksty</td><td>Code-block style </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">p_manager</td><td>the event manager </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">p_manager_mutex</td><td>mutex for the event manager </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">check_pterm</td><td>whether PTERM correct termination should be checked</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">t1</td><td>is codeblock cofficients storage </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cblk</td><td>is codeblock properties </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">orient</td><td>is the subband to which the codeblock belongs (not needed) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">roishift</td><td>is region of interest shift </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cblksty</td><td>is codeblock style </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_manager</td><td>is events print manager </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_manager_mutex</td><td>a mutex to control access to p_manager </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">check_pterm</td><td>check termination (not used) </td></tr>
  </table>
  </dd>
</dl>
<p>State storage One byte per quad; for 1024 columns, or 512 quads, we need 512 bytes. We are using 2 extra bytes one on the left and one on the right for convenience.</p>
<p>The MSB bit in each byte is (\sigma^nw | \sigma^n), and the 7 LSBs contain max(E^nw | E^n)</p>

<p class="reference">References <a class="el" href="structopj__t1.html#a3c12dcb05357d126fffe6d3fc3e3e808">opj_t1::cblkdatabuffer</a>, <a class="el" href="structopj__t1.html#a77fc9bb2b6314966433e5c15bdd1cae5">opj_t1::cblkdatabuffersize</a>, <a class="el" href="structopj__tcd__cblk__dec.html#aeab02b0b42c74842fef7371649dbc0e4">opj_tcd_cblk_dec::chunks</a>, <a class="el" href="#ac411a50f8827a8678a03e8956e02f2b2">count_leading_zeros()</a>, <a class="el" href="structopj__t1.html#a73394701209d19d06afd56f089bbcd7f">opj_t1::data</a>, <a class="el" href="structopj__tcd__seg__data__chunk.html#ab6dd2b608bfdc088028d697df73c4c57">opj_tcd_seg_data_chunk::data</a>, <a class="el" href="#a03c0bbb6a385df0f5a46d0afdd5dfa3e">decode_init_uvlc()</a>, <a class="el" href="#ac65390cb63d723311d218c66b0c99dd6">decode_noninit_uvlc()</a>, <a class="el" href="event_8h.html#a7323671f4df0a721ae02d610b1269ab9">EVT_ERROR</a>, <a class="el" href="event_8h.html#abefbcb0bea7916739b3adccb2d4e9417">EVT_WARNING</a>, <a class="el" href="structopj__t1.html#ad9c62c070cac19e999623b6dfc247789">opj_t1::flags</a>, <a class="el" href="#a3d26aa74012757ab1b0a057389e34e86">frwd_advance()</a>, <a class="el" href="#a8d84728099bb3a25e431570ccb7e2fb6">frwd_fetch()</a>, <a class="el" href="#ada72209ef411b7fc7946c3c02b29d388">frwd_init()</a>, <a class="el" href="j2k_8h.html#a65e3c90067fca47af235e73afbc65c97">J2K_CCP_CBLKSTY_VSC</a>, <a class="el" href="structopj__tcd__seg__data__chunk.html#a24e794036639d144bafc01f6aa1932ba">opj_tcd_seg_data_chunk::len</a>, <a class="el" href="structopj__tcd__seg.html#ae2849ad158d18620e92927c34758ae97">opj_tcd_seg::len</a>, <a class="el" href="structopj__tcd__cblk__dec.html#a838e42ec2ac2e5709de72c409bf1eb0f">opj_tcd_cblk_dec::Mb</a>, <a class="el" href="#a7287bba8c0c05a2ceae8dbb4de5a9330">mel_get_run()</a>, <a class="el" href="#acf0215ed8aa6c56768efbabeb989762b">mel_init()</a>, <a class="el" href="structopj__t1.html#ad857b30ad6967bcd9314fdff281451e1">opj_t1::mustuse_cblkdatabuffer</a>, <a class="el" href="structopj__tcd__cblk__dec.html#a9cf7b69b99839ce2e0858ed5fb0f3dc9">opj_tcd_cblk_dec::numbps</a>, <a class="el" href="structopj__tcd__cblk__dec.html#a0a2b4d09212139763fc78d1ad345a9a3">opj_tcd_cblk_dec::numchunks</a>, <a class="el" href="structopj__tcd__cblk__dec.html#ab2a728b464389abbe87718c250c99d2a">opj_tcd_cblk_dec::numsegs</a>, <a class="el" href="#ae5a522982a535584dc1513a8d357b648">only_cleanup_pass_is_decoded</a>, <a class="el" href="event_8c.html#a80a24e8c6d24861cd2403e48a7c2591e">opj_event_msg()</a>, <a class="el" href="openjpeg_8h.html#ac672bfd7db39c609e828acb07a321964">OPJ_FALSE</a>, <a class="el" href="thread_8c.html#ab38a90b92a1d294f7e1886e36a405518">opj_mutex_lock()</a>, <a class="el" href="thread_8c.html#acf1f5a5f7f7257663505af02b717272c">opj_mutex_unlock()</a>, <a class="el" href="opj__malloc_8c.html#aedf6272b1a0b4ea73dbbe88645dcf163">opj_realloc()</a>, <a class="el" href="#a676ae65a9d3daed3299a36fa3842043e">opj_t1_allocate_buffers()</a>, <a class="el" href="openjpeg_8h.html#a04830036d767cba56cbf5ae5bdc481d3">OPJ_TRUE</a>, <a class="el" href="#a5dcc93c10ed6b04d8f789c7c84fb4008">population_count()</a>, <a class="el" href="structopj__tcd__seg.html#a0015ec198dfb26b7bed3b6c56c165cd0">opj_tcd_seg::real_num_passes</a>, <a class="el" href="#a3eaa584e684afdc02fc5dacd9f989552">rev_advance()</a>, <a class="el" href="#ad5e4d97335437325d6bbb6206bc5aae6">rev_advance_mrp()</a>, <a class="el" href="#a4f50129f86589c1c28477ed69d16b11e">rev_fetch()</a>, <a class="el" href="#a847984af36a6cc3e6638118d89880baa">rev_fetch_mrp()</a>, <a class="el" href="#afa8ecf4d3e369b522242f01afe5063c8">rev_init()</a>, <a class="el" href="#aaae9b480e28b443dc48fab9114cd9a11">rev_init_mrp()</a>, <a class="el" href="structopj__tcd__cblk__dec.html#a541548bb8a4343cb86bd3060653c6fd4">opj_tcd_cblk_dec::segs</a>, <a class="el" href="group__vlc__decoding__tables__grp.html#gaad13d2ff6e8e0dcff2ebc3dfe6a3bb3a">vlc_tbl0</a>, <a class="el" href="group__vlc__decoding__tables__grp.html#ga5252da304e5d0ed6ca7cedc887c7056b">vlc_tbl1</a>, <a class="el" href="structopj__tcd__cblk__dec.html#aeb0a80dd174713abc3744560abf10dbe">opj_tcd_cblk_dec::x0</a>, <a class="el" href="structopj__tcd__cblk__dec.html#a1a1324079114684b8f9343748f4f0bd0">opj_tcd_cblk_dec::x1</a>, <a class="el" href="structopj__tcd__cblk__dec.html#a3f2e8149bda51a5e6bf06377411adffb">opj_tcd_cblk_dec::y0</a>, and <a class="el" href="structopj__tcd__cblk__dec.html#abb854a054640a376a9e9445abddb7c4a">opj_tcd_cblk_dec::y1</a>.</p>

<p class="reference">Referenced by <a class="el" href="t1_8c.html#a4f37cf7aca8eb1313fe5bc320c85ad55">opj_t1_clbl_decode_processor()</a>.</p>

</div>
</div>
<a id="a5dcc93c10ed6b04d8f789c7c84fb4008" name="a5dcc93c10ed6b04d8f789c7c84fb4008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dcc93c10ed6b04d8f789c7c84fb4008">&#9670;&#160;</a></span>population_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> population_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>val</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates population count (i.e., the number of set bits) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>is the value for which population count is sought </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="#ac411a50f8827a8678a03e8956e02f2b2">count_leading_zeros()</a>, and <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="acbca9dd22fabb8fb864c9413c04f6f06" name="acbca9dd22fabb8fb864c9413c04f6f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbca9dd22fabb8fb864c9413c04f6f06">&#9670;&#160;</a></span>read_le_uint32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> read_le_uint32 </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>dataIn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a little-endian serialized UINT32. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dataIn</td><td>pointer to byte stream to read from </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="#a480487fd85a38efe49117f47310b3957">frwd_read()</a>, <a class="el" href="#a528933a4ff904894de3292e6e45de267">mel_read()</a>, <a class="el" href="#ad5407f4037277334cd55ae4ecb0b38ed">rev_read()</a>, and <a class="el" href="#ada5b53a012c2bbb0e333636e847774be">rev_read_mrp()</a>.</p>

</div>
</div>
<a id="a3eaa584e684afdc02fc5dacd9f989552" name="a3eaa584e684afdc02fc5dacd9f989552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eaa584e684afdc02fc5dacd9f989552">&#9670;&#160;</a></span>rev_advance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> rev_advance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>vlcp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>num_bits</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Consumes num_bits from a <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vlcp</td><td>is a pointer to <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_bits</td><td>is the number of bits to be removed </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structrev__struct.html#a6253e73093c045053d37c050a57928d9">rev_struct::bits</a>, and <a class="el" href="structrev__struct.html#a1af050a4282cb3d5fa889c43fe77dcbc">rev_struct::tmp</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="ad5e4d97335437325d6bbb6206bc5aae6" name="ad5e4d97335437325d6bbb6206bc5aae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5e4d97335437325d6bbb6206bc5aae6">&#9670;&#160;</a></span>rev_advance_mrp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> rev_advance_mrp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mrp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a></td>          <td class="paramname"><span class="paramname"><em>num_bits</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Consumes num_bits from a <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mrp</td><td>is a pointer to <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_bits</td><td>is the number of bits to be removed </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structrev__struct.html#a6253e73093c045053d37c050a57928d9">rev_struct::bits</a>, and <a class="el" href="structrev__struct.html#a1af050a4282cb3d5fa889c43fe77dcbc">rev_struct::tmp</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="a4f50129f86589c1c28477ed69d16b11e" name="a4f50129f86589c1c28477ed69d16b11e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f50129f86589c1c28477ed69d16b11e">&#9670;&#160;</a></span>rev_fetch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> rev_fetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>vlcp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves 32 bits from the head of a <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure. </p>
<p>By the end of this call, vlcp-&gt;tmp must have no less than 33 bits</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vlcp</td><td>is a pointer to <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structrev__struct.html#a6253e73093c045053d37c050a57928d9">rev_struct::bits</a>, <a class="el" href="#ad5407f4037277334cd55ae4ecb0b38ed">rev_read()</a>, and <a class="el" href="structrev__struct.html#a1af050a4282cb3d5fa889c43fe77dcbc">rev_struct::tmp</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="a847984af36a6cc3e6638118d89880baa" name="a847984af36a6cc3e6638118d89880baa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a847984af36a6cc3e6638118d89880baa">&#9670;&#160;</a></span>rev_fetch_mrp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="el" href="openjpeg_8h.html#a4cb1e6e6b6ef2df499d5c02f7df54cbb">OPJ_UINT32</a> rev_fetch_mrp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mrp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves 32 bits from the head of a <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure. </p>
<p>By the end of this call, mrp-&gt;tmp must have no less than 33 bits</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mrp</td><td>is a pointer to <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structrev__struct.html#a6253e73093c045053d37c050a57928d9">rev_struct::bits</a>, <a class="el" href="#ada5b53a012c2bbb0e333636e847774be">rev_read_mrp()</a>, and <a class="el" href="structrev__struct.html#a1af050a4282cb3d5fa889c43fe77dcbc">rev_struct::tmp</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="afa8ecf4d3e369b522242f01afe5063c8" name="afa8ecf4d3e369b522242f01afe5063c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa8ecf4d3e369b522242f01afe5063c8">&#9670;&#160;</a></span>rev_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void rev_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>vlcp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#aa4f0c2273c8e988c055b78ae4412ac8e">OPJ_UINT8</a> *</td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>lcup</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>scup</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiates the rev_struct_t structure and reads a few bytes to move the read address to multiple of 4. </p>
<p>There is another similar rev_init_mrp subroutine. The difference is that this one, rev_init, discards the first 12 bits (they have the sum of the lengths of VLC and MEL segments), and first unstuff depends on first 4 bits.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vlcp</td><td>is a pointer to rev_struct_t structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is a pointer to byte at the start of the cleanup pass </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lcup</td><td>is the length of MagSgn+MEL+VLC segments </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scup</td><td>is the length of MEL+VLC segments </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structrev__struct.html#a6253e73093c045053d37c050a57928d9">rev_struct::bits</a>, <a class="el" href="structrev__struct.html#a4cd89a08b969061ca23999de832aea02">rev_struct::data</a>, <a class="el" href="#ad5407f4037277334cd55ae4ecb0b38ed">rev_read()</a>, <a class="el" href="structrev__struct.html#ac0a04bdeb3d81b0e0c04741369e9c117">rev_struct::size</a>, <a class="el" href="structrev__struct.html#a1af050a4282cb3d5fa889c43fe77dcbc">rev_struct::tmp</a>, and <a class="el" href="structrev__struct.html#af289ce91d1fcc20c59cfd5afd22ddcd5">rev_struct::unstuff</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="aaae9b480e28b443dc48fab9114cd9a11" name="aaae9b480e28b443dc48fab9114cd9a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaae9b480e28b443dc48fab9114cd9a11">&#9670;&#160;</a></span>rev_init_mrp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void rev_init_mrp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mrp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openjpeg_8h.html#aa4f0c2273c8e988c055b78ae4412ac8e">OPJ_UINT8</a> *</td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>lcup</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialized <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure for MRP segment, and reads a number of bytes such that the next 32 bits read are from an address that is a multiple of 4. </p>
<p>Note this is designed for an architecture that read size must be compatible with the alignment of the read address</p>
<p>There is another similar subroutine rev_init. This subroutine does NOT skip the first 12 bits, and starts with unstuff set to true.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mrp</td><td>is a pointer to <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is a pointer to byte at the start of the cleanup pass </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lcup</td><td>is the length of MagSgn+MEL+VLC segments </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len2</td><td>is the length of SPP+MRP segments </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structrev__struct.html#a6253e73093c045053d37c050a57928d9">rev_struct::bits</a>, <a class="el" href="structrev__struct.html#a4cd89a08b969061ca23999de832aea02">rev_struct::data</a>, <a class="el" href="openjpeg_8h.html#a04830036d767cba56cbf5ae5bdc481d3">OPJ_TRUE</a>, <a class="el" href="#ada5b53a012c2bbb0e333636e847774be">rev_read_mrp()</a>, <a class="el" href="structrev__struct.html#ac0a04bdeb3d81b0e0c04741369e9c117">rev_struct::size</a>, <a class="el" href="structrev__struct.html#a1af050a4282cb3d5fa889c43fe77dcbc">rev_struct::tmp</a>, and <a class="el" href="structrev__struct.html#af289ce91d1fcc20c59cfd5afd22ddcd5">rev_struct::unstuff</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
<a id="ad5407f4037277334cd55ae4ecb0b38ed" name="ad5407f4037277334cd55ae4ecb0b38ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5407f4037277334cd55ae4ecb0b38ed">&#9670;&#160;</a></span>rev_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void rev_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>vlcp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read and unstuff data from a backwardly-growing segment. </p>
<p>This reader can read up to 8 bytes from before the VLC segment. Care must be taken not read from unreadable memory, causing a segmentation fault.</p>
<p>Note that there is another subroutine rev_read_mrp that is slightly different. The other one fills zeros when the buffer is exhausted. This one basically does not care if the bytes are consumed, because any extra data should not be used in the actual decoding.</p>
<p>Unstuffing is needed to prevent sequences more than 0xFF8F from appearing in the bits stream; since we are reading backward, we keep watch when a value larger than 0x8F appears in the bitstream. If the byte following this is 0x7F, we unstuff this byte (ignore the MSB of that byte, which should be 0).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vlcp</td><td>is a pointer to rev_struct_t structure </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structrev__struct.html#a6253e73093c045053d37c050a57928d9">rev_struct::bits</a>, <a class="el" href="structrev__struct.html#a4cd89a08b969061ca23999de832aea02">rev_struct::data</a>, <a class="el" href="#acbca9dd22fabb8fb864c9413c04f6f06">read_le_uint32()</a>, <a class="el" href="structrev__struct.html#ac0a04bdeb3d81b0e0c04741369e9c117">rev_struct::size</a>, <a class="el" href="structrev__struct.html#a1af050a4282cb3d5fa889c43fe77dcbc">rev_struct::tmp</a>, and <a class="el" href="structrev__struct.html#af289ce91d1fcc20c59cfd5afd22ddcd5">rev_struct::unstuff</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a4f50129f86589c1c28477ed69d16b11e">rev_fetch()</a>, and <a class="el" href="#afa8ecf4d3e369b522242f01afe5063c8">rev_init()</a>.</p>

</div>
</div>
<a id="ada5b53a012c2bbb0e333636e847774be" name="ada5b53a012c2bbb0e333636e847774be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada5b53a012c2bbb0e333636e847774be">&#9670;&#160;</a></span>rev_read_mrp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="openjpeg_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> void rev_read_mrp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad6424de8bbf1786bb96e7ad13a54a213">rev_struct_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mrp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads and unstuffs from <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a>. </p>
<p>This is different than rev_read in that this fills in zeros when the the available data is consumed. The other does not care about the values when all data is consumed.</p>
<p>See rev_read for more information about unstuffing</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mrp</td><td>is a pointer to <a class="el" href="structrev__struct.html" title="A structure for reading and unstuffing a segment that grows backward, such as VLC and MRP.">rev_struct</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structrev__struct.html#a6253e73093c045053d37c050a57928d9">rev_struct::bits</a>, <a class="el" href="structrev__struct.html#a4cd89a08b969061ca23999de832aea02">rev_struct::data</a>, <a class="el" href="#acbca9dd22fabb8fb864c9413c04f6f06">read_le_uint32()</a>, <a class="el" href="structrev__struct.html#ac0a04bdeb3d81b0e0c04741369e9c117">rev_struct::size</a>, <a class="el" href="structrev__struct.html#a1af050a4282cb3d5fa889c43fe77dcbc">rev_struct::tmp</a>, and <a class="el" href="structrev__struct.html#af289ce91d1fcc20c59cfd5afd22ddcd5">rev_struct::unstuff</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a847984af36a6cc3e6638118d89880baa">rev_fetch_mrp()</a>, and <a class="el" href="#aaae9b480e28b443dc48fab9114cd9a11">rev_init_mrp()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae5a522982a535584dc1513a8d357b648" name="ae5a522982a535584dc1513a8d357b648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5a522982a535584dc1513a8d357b648">&#9670;&#160;</a></span>only_cleanup_pass_is_decoded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="openjpeg_8h.html#abb5dad6294f4611f1925388e919b16f4">OPJ_BOOL</a> only_cleanup_pass_is_decoded = <a class="el" href="openjpeg_8h.html#ac672bfd7db39c609e828acb07a321964">OPJ_FALSE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Displays the error message for disabling the decoding of SPP and MRP passes. </p>

<p class="reference">Referenced by <a class="el" href="#a8e1566cecb98cad92924d1fac5fdc900">opj_t1_ht_decode_cblk()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
